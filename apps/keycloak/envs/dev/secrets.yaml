apiVersion: external-secrets.io/v1beta1
kind: ExternalSecret
metadata:
  name: keycloak
spec:
  refreshInterval: 1m
  secretStoreRef:
    name: secret-store
    kind: ClusterSecretStore
  target:
    name: keycloak
  data:
    - secretKey: password
      remoteRef:
        key: eodhp-dev
        property: keycloak.auth.adminPassword
    - secretKey: postgres-password
      remoteRef:
        key: eodhp-dev
        property: keycloak.auth.postgresPassword
---
apiVersion: v1
kind: Secret
metadata:
  name: k8s.dev.eodatahub.org.uk-tls
  annotations:
    replicator.v1.mittwald.de/replicate-from: cert-manager/eodhp-tls
type: kubernetes.io/tls
data:
  tls.key: ""
  tls.crt: ""
